@model List<OrderDetailViewModel>


@{
    int i = 0;
    int k = -1;
}
@foreach (var item in Model)
{
    i++;
    k++;
    <tr>
        <td style="width: 40px" class="text-center">
            @i
            <input type="hidden" name="detail[@k].STT" class="detail-stt" value="@i">
            <input type="hidden" name="detail[@k].ProductId" class="detail-ProductId" value="@item.ProductId">
            <input type="hidden" name="detail[@k].ProductName" class="detail-ProductName" value="@item.ProductName">
            <input type="hidden" name="detail[@k].UnitDiscount" class="detail-UnitDiscount" value="@item.UnitDiscount">

            @*<input type="hidden" name="detail[@k].ImportDetailId" class="detail-ImportDetailId" value="@item.ImportDetailId"> *@
        </td>
        <td style="width: 100px">
            <div id="divProductId_@k" style="width:255px;">
                <select name="ProductId" id="ProductId_@k" data-row="@k" class="form-control" style="width:255px;">
                </select>
            </div>
        </td>
        @* <td style="width: 100px">
            <input type="text" name="detail[@k].ProductName" class="detail-Price form-control text-right"  data-row="@k" value="@item.ProductName">
        </td>*@
        <td style="width: 100px">
            <input type="hidden" name="detail[@k].Price" class="detail-Price detail-Price-@k form-control text-right"  data-row="@k" value="@item.Price">
           <input type="text" disabled name="detail[@k].Price" class="detail-Price  detail-Price-@k form-control text-right"  data-row="@k" value="@item.Price">
        </td>
        <td style="width: 100px;">
            <div class="row">
                <div class="col-md-4 ">
                    <span id="spanEndInventoryQty-@k">@item.EndInventoryQty</span>
                    <input type="hidden" name="detail[@k].EndInventoryQty" class="detail-EndInventoryQty" value="@item.EndInventoryQty">
                </div>
                <div class="col-md-8 ">
                     <input type="text" name="detail[@k].Quantity" class="detail-Qty form-control text-right" data-row="@k" id="Quantity" value="@item.Quantity">
                </div>
            </div>
        </td>
        @* <td style="width: 100px">
             <div class="input-group" style="width:200px;">
                <input type="text" name="detail[@k].Discount" class="detail-Discount form-control text-right"  data-row="@k" value="@item.Discount" style="float:left;">
                 <span class=" input-group-addon">
                      <select name="detail[@k].DiscountTypeId" data-row="@k" class="detail-DiscountTypeId" style="border: 0px;background-color: #eee;">
                        @if (item.DiscountTypeId == 1)
                        {
                            <option value="1" selected="selected">Tiền mặt</option>
                            <option value="2">%</option>
                        } 
                        else
                        {
                            <option value="1">Tiền mặt</option>
                            <option value="2" selected="selected">%</option>
                        }
                    </select>
                 </span>
                </div>
         </td>*@
        <td style="width: 100px">
            <input type="hidden"  name="detail[@k].UnitPrice" class="detail-UnitPrice form-control text-right" data-row="@k" value="@item.UnitPrice">
            <input type="text" disabled  class="form-control text-right unit-price" name="detail[@k].UnitPrice" value="@item.UnitPrice" data-row="@k">
        </td>
        <td style="width: 100px">
            <input type="text" class="form-control text-right " name="detail[@k].Note" value="@item.Note" data-row="@k">
        </td>
        <td style="width: 100px; text-align: center;">
            <a href="#" class="detail-btndelete btn btn-danger " data-row="@i">Xóa</a>
        </td>
    </tr>
}

<script src="~/Scripts/PreOrderMaster/grid.js"></script>
