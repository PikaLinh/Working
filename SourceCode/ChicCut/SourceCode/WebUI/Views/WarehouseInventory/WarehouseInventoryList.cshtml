@model IEnumerable<WarehouseInventoryMasterViewModel>
<div class="row head">
    <div class="col-md-5 col-sm-12 col-xs-12"><h4 style="color:#6BABDF;">Danh sách phiếu kiểm kho</h4></div>
</div>
<table class="table table-bordered table-striped table-hover dataTable no-footer" id="datatableListWarehouse" style="width:100%">
    <thead>
        <tr class="warning">
            <th style="width:2%">
                STT
            </th>
            <th style="width:28%">
                Kho
            </th>
            <th style="width:20%">
                @Html.DisplayNameFor(model => model.WarehouseInventoryMasterCode)
            </th>
            <th style="width:10%">
                @Html.DisplayNameFor(model => model.CreatedDate)
            </th>
            <th style="width:10%">
                @Html.DisplayNameFor(model => model.CreatedAccount)
            </th>
            <th class="text-center" style="width:5%">
                @*@Html.DisplayNameFor(model => model.TotalQty)*@
                S.Lượng Cập.nhật
            </th>
            <th class="actions text-center" style="width:25%">@Resources.LanguageResource.Actions</th>
    </thead>
    <tbody>
        @{ int i = 0;}
        @foreach (var item in Model)
        {
            i++;
            <tr>
                <td class="text-center" style="width:2%">
                    @i
                </td>
                <td class="text-left" style="width:28%">
                    @Html.DisplayFor(modelItem => item.WarehouseName)
                </td>
                <td class="text-center" style="width:20%">
                    @Html.DisplayFor(modelItem => item.WarehouseInventoryMasterCode)
                </td>
                <td class="text-center" style="width:10%">
                    @Html.DisplayFor(modelItem => item.CreatedDate)
                </td>
                <td style="width:10%">
                    @Html.DisplayFor(modelItem => item.CreatedAccount)
                </td>
                <td class="text-right" style="width:5%">
                    @Html.DisplayFor(modelItem => item.TotalQty)
                </td>
                <td class="text-center" style="width:25%">
                    <a class="btn btn-default btn-sm btn-sm btn-details" data-id="@item.WarehouseInventoryMasterId">Xem</a>
                    @if (item.CreatedIEOther == true || item.Actived == false || i != 1) // || i != 1 : các phiếu tạo cũ
                    {
                        <button class="btn btn-warning btn-sm" disabled>Tạo xuất nhập kho</button>
                        <button class="btn btn-danger btn-sm" disabled>Huỷ</button>
                    }
                    else
                    {
                        <a class="btn btn-default btn-warning btn-sm bt-autoimex" data-id="@item.WarehouseInventoryMasterId" data-code="@item.WarehouseInventoryMasterCode" data-toggle="modal" data-target="#confirm-autoimex" title="Bù trừ kiểm kho khớp với hệ thống : Sẽ NK sản phẩm thừa & XK sản phẩm thiếu">Tạo xuất nhập kho</a>
                        <a class="btn btn-default btn-danger btn-sm btn-xoa" data-id="@item.WarehouseInventoryMasterId" data-code="@item.WarehouseInventoryMasterCode" data-toggle="modal" data-target="#confirm-delete">Huỷ</a>
                    }
                    <input type="hidden" id="idDelete" />
                </td>
            </tr>
        }
    </tbody>
</table>
